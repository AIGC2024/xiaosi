<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>nginx运行错误 - 小厮</title><meta name="author" content="">
<meta name="author-link" content="">
<meta name="description" content="运行环境： nginx: 1.23 error: the invalid value in &ndash;with-ld-opt=&quot;-ltcmalloc&quot; 编译时安装出错 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 [root@centos7 nginx-1.18.0]# ./configure \ --with-http_auth_request_module \ --with-http_realip_module \ --with-http_v2_module \ --with-debug \ --add-module=/home/web/nginx-http-concat/ \ --with-http_random_index_module \ --with-http_sub_module" /><meta name="keywords" content='error, nginx' /><meta itemprop="name" content="nginx运行错误">
<meta itemprop="description" content="运行环境： nginx: 1.23 error: the invalid value in &ndash;with-ld-opt=&quot;-ltcmalloc&quot; 编译时安装出错 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 [root@centos7 nginx-1.18.0]# ./configure \ --with-http_auth_request_module \ --with-http_realip_module \ --with-http_v2_module \ --with-debug \ --add-module=/home/web/nginx-http-concat/ \ --with-http_random_index_module \ --with-http_sub_module"><meta itemprop="datePublished" content="2020-11-13T10:15:20+08:00" />
<meta itemprop="dateModified" content="2022-12-15T09:34:24+08:00" />
<meta itemprop="wordCount" content="1553">
<meta itemprop="keywords" content="error,nginx," /><meta property="og:title" content="nginx运行错误" />
<meta property="og:description" content="运行环境： nginx: 1.23 error: the invalid value in &ndash;with-ld-opt=&quot;-ltcmalloc&quot; 编译时安装出错 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 [root@centos7 nginx-1.18.0]# ./configure \ --with-http_auth_request_module \ --with-http_realip_module \ --with-http_v2_module \ --with-debug \ --add-module=/home/web/nginx-http-concat/ \ --with-http_random_index_module \ --with-http_sub_module" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/nginx-error/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-13T10:15:20+08:00" />
<meta property="article:modified_time" content="2022-12-15T09:34:24+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="nginx运行错误"/>
<meta name="twitter:description" content="运行环境： nginx: 1.23 error: the invalid value in &ndash;with-ld-opt=&quot;-ltcmalloc&quot; 编译时安装出错 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 [root@centos7 nginx-1.18.0]# ./configure \ --with-http_auth_request_module \ --with-http_realip_module \ --with-http_v2_module \ --with-debug \ --add-module=/home/web/nginx-http-concat/ \ --with-http_random_index_module \ --with-http_sub_module"/>
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#ffffff" data-dark="#252627" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="/nginx-error/" /><link rel="prev" href="/go-hello-world/" /><link rel="next" href="/nginx-install/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "nginx运行错误",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "\/nginx-error\/"
    },"genre": "posts","keywords": "error, nginx","wordcount":  1553 ,
    "url": "\/nginx-error\/","datePublished": "2020-11-13T10:15:20+08:00","dateModified": "2022-12-15T09:34:24+08:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "小厮"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper" data-page-style="wide"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="小厮"><span class="header-title-text">首页</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              ><i class='fa-solid fa-archive fa-fw fa-sm'></i> 所有文章</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              ><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              ><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="搜索文章标题或内容……" id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="小厮"><span class="header-title-text">首页</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="搜索文章标题或内容……" id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              取消
            </a>
          </li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                ><i class='fa-solid fa-archive fa-fw fa-sm'></i> 所有文章</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                ><i class='fa-solid fa-th fa-fw fa-sm'></i> 分类</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                ><i class='fa-solid fa-tags fa-fw fa-sm'></i> 标签</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><main class="container container-reverse"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="合集"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>nginx运行错误</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      小厮</span></span><span class="post-included-in">&nbsp;收录于 <a href="/categories/nginx/" class="post-category" title="分类 - nginx"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> nginx</a></span></div><div class="post-meta-line"><span title="发布于 2020-11-13 10:15:20"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2020-11-13">2020-11-13</time></span>&nbsp;<span title="更新于 2022-12-15 09:34:24"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden="true"></i><time datetime="2022-12-15">2022-12-15</time></span>&nbsp;<span title="1553 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>约 1600 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>预计阅读 4 分钟</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#error-the-invalid-value-in---with-ld-opt-ltcmalloc">error: the invalid value in &ndash;with-ld-opt=&quot;-ltcmalloc&quot;</a></li>
    <li><a href="#error-the-http-rewrite-module-requires-the-pcre-library">error: the HTTP rewrite module requires the PCRE library.</a></li>
    <li><a href="#error-ssl-modules-require-the-openssl-library">error: SSL modules require the OpenSSL library.</a></li>
    <li><a href="#error-the-geoip-module-requires-the-geoip-library">error: the GeoIP module requires the GeoIP library.</a></li>
    <li><a href="#error-the-google-perftools-module-requires-the-google-perftools-library">error: the Google perftools module requires the Google perftools library.</a></li>
    <li><a href="#error-no-homewebnginx-http-concatconfig-was-found">error: no /home/web/nginx-http-concat//config was found</a></li>
    <li><a href="#access_log-日志记录位置">access_log 日志记录位置</a></li>
    <li><a href="#nginx-error-while-loading-shared-libraries-libgdso3-cannot-open-shared-object-file-no-such-file-or-directory">nginx: error while loading shared libraries: libgd.so.3: cannot open shared object file: No such file or directory</a></li>
    <li><a href="#worker-process-xxxx-exited-on-signal-25">worker process xxxx exited on signal 25？</a></li>
    <li><a href="#nginx-error-while-loading-shared-libraries-libxsltso1-cannot-open-shared-object-file-no-such-file-or-directory">nginx: error while loading shared libraries: libxslt.so.1: cannot open shared object file: No such file or directory</a></li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><div class="details admonition note open">
      <div class="details-summary admonition-title">
        <i class="icon fa-solid fa-pencil-alt fa-fw" aria-hidden="true"></i>注意<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i>
      </div>
      <div class="details-content">
        <div class="admonition-content">本文最后更新于 2022-12-15，文中内容可能已过时。</div>
      </div>
    </div><blockquote>
<p>运行环境：</p>
<ul>
<li>nginx: 1.23</li>
</ul>
</blockquote>
<h1 id="error-the-invalid-value-in---with-ld-opt-ltcmalloc" class="heading-element">
  <a href="#error-the-invalid-value-in---with-ld-opt-ltcmalloc" class="heading-mark"></a>error: the invalid value in &ndash;with-ld-opt=&quot;-ltcmalloc&quot;</h1><ul>
<li>编译时安装出错</li>
</ul>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@centos7 nginx-1.18.0<span class="o">]</span><span class="c1"># ./configure \</span>
</span></span><span class="line"><span class="cl"> --with-http_auth_request_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_realip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_v2_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-debug <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --add-module<span class="o">=</span>/home/web/nginx-http-concat/ <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_random_index_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_sub_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_addition_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_secure_link_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_geoip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_ssl_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-stream_ssl_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-stream_realip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-stream_ssl_preread_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-stream <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --add-module<span class="o">=</span>/home/web/ngx_cache_purge/ <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_slice_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-google_perftools_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-threads <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-ld-opt<span class="o">=</span>-ltcmalloc <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_gzip_static_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_gunzip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --with-http_stub_status_module
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">checking <span class="k">for</span> OS
</span></span><span class="line"><span class="cl"> + Linux 3.10.0-1127.10.1.el7.x86_64 x86_64
</span></span><span class="line"><span class="cl">checking <span class="k">for</span> C compiler ... found
</span></span><span class="line"><span class="cl"> + using GNU C compiler
</span></span><span class="line"><span class="cl"> + gcc version: 4.8.5 <span class="m">20150623</span> <span class="o">(</span>Red Hat 4.8.5-39<span class="o">)</span> <span class="o">(</span>GCC<span class="o">)</span> 
</span></span><span class="line"><span class="cl">checking <span class="k">for</span> gcc -pipe switch ... found
</span></span><span class="line"><span class="cl">checking <span class="k">for</span> --with-ld-opt<span class="o">=</span><span class="s2">&#34;-ltcmalloc&#34;</span> ... not found
</span></span><span class="line"><span class="cl">./configure: error: the invalid value in --with-ld-opt<span class="o">=</span><span class="s2">&#34;-ltcmalloc&#34;</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解决方法：安装 <code>tcmalloc</code></li>
</ul>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># gperftools 有 tcmalloc</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@localhost nginx-1.23.0<span class="o">]</span><span class="c1"># yum install gperftools</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>原因：缺少<code>TcMalloc</code>库</li>
</ul>
<h1 id="error-the-http-rewrite-module-requires-the-pcre-library" class="heading-element">
  <a href="#error-the-http-rewrite-module-requires-the-pcre-library" class="heading-mark"></a>error: the HTTP rewrite module requires the PCRE library.</h1><ul>
<li>编译出错</li>
</ul>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@centos7 nginx-1.18.0<span class="o">]</span><span class="c1"># ./configure \</span>
</span></span><span class="line"><span class="cl">  --with-http_auth_request_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_realip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_v2_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-debug <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_random_index_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_sub_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_addition_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_secure_link_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_geoip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_ssl_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-stream_ssl_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-stream_realip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-stream_ssl_preread_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-stream <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_slice_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-google_perftools_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-threads <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_gzip_static_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_gunzip_module <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --with-http_stub_status_module
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">./configure: error: the HTTP rewrite module requires the PCRE library.
</span></span><span class="line"><span class="cl">You can either disable the module by using --without-http_rewrite_module
</span></span><span class="line"><span class="cl">option, or install the PCRE library into the system, or build the PCRE library
</span></span><span class="line"><span class="cl">statically from the <span class="nb">source</span> with nginx by using --with-pcre<span class="o">=</span>&lt;path&gt; option.</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解决方法：<code>yum -y install pcre-devel</code></li>
</ul>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@centos7 nginx-1.18.0<span class="o">]</span><span class="c1"># yum -y install pcre-devel</span>
</span></span><span class="line"><span class="cl">Loaded plugins: fastestmirror
</span></span><span class="line"><span class="cl">Loading mirror speeds from cached hostfile
</span></span><span class="line"><span class="cl"> * base: mirrors.cn99.com
</span></span><span class="line"><span class="cl"> * extras: mirrors.163.com
</span></span><span class="line"><span class="cl">...</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>原因：缺少依赖 pcre-devel</li>
</ul>
<h1 id="error-ssl-modules-require-the-openssl-library" class="heading-element">
  <a href="#error-ssl-modules-require-the-openssl-library" class="heading-mark"></a>error: SSL modules require the OpenSSL library.</h1><ul>
<li>错误</li>
</ul>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./configure: error: SSL modules require the OpenSSL library.
</span></span><span class="line"><span class="cl">You can either <span class="k">do</span> not <span class="nb">enable</span> the modules, or install the OpenSSL library
</span></span><span class="line"><span class="cl">into the system, or build the OpenSSL library statically from the <span class="nb">source</span>
</span></span><span class="line"><span class="cl">with nginx by using --with-openssl<span class="o">=</span>&lt;path&gt; option.</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解决方法</li>
</ul>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum -y install openssl openssl-devel</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>原因：缺少依赖</li>
</ul>
<h1 id="error-the-geoip-module-requires-the-geoip-library" class="heading-element">
  <a href="#error-the-geoip-module-requires-the-geoip-library" class="heading-mark"></a>error: the GeoIP module requires the GeoIP library.</h1><ul>
<li>错误</li>
</ul>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./configure: error: the GeoIP module requires the GeoIP library.
</span></span><span class="line"><span class="cl">You can either <span class="k">do</span> not <span class="nb">enable</span> the module or install the library.</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解决</li>
</ul>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum install geoip-devel -y</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="error-the-google-perftools-module-requires-the-google-perftools-library" class="heading-element">
  <a href="#error-the-google-perftools-module-requires-the-google-perftools-library" class="heading-mark"></a>error: the Google perftools module requires the Google perftools library.</h1><ul>
<li>错误：</li>
</ul>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./configure: error: the Google perftools module requires the Google perftools
</span></span><span class="line"><span class="cl">library. You can either <span class="k">do</span> not <span class="nb">enable</span> the module or install the library.</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>解决</li>
</ul>
<div class="highlight" id="id-10"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yum install gperftools-devel -y</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="error-no-homewebnginx-http-concatconfig-was-found" class="heading-element">
  <a href="#error-no-homewebnginx-http-concatconfig-was-found" class="heading-mark"></a>error: no /home/web/nginx-http-concat//config was found</h1><div class="highlight" id="id-11"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./configure: error: no /home/web/nginx-http-concat//config was fou</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="access_log-日志记录位置" class="heading-element">
  <a href="#access_log-%e6%97%a5%e5%bf%97%e8%ae%b0%e5%bd%95%e4%bd%8d%e7%bd%ae" class="heading-mark"></a>access_log 日志记录位置</h1><ul>
<li>访问<code>80:/</code>为什么记录在<code>1.log</code>中，而不是<code>2.log</code>？</li>
</ul>
<div class="highlight" id="id-12"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">access_log</span> <span class="s">logs/1.log</span> <span class="s">combined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">access_log</span> <span class="s">logs/2.log</span> <span class="s">combined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h1 id="nginx-error-while-loading-shared-libraries-libgdso3-cannot-open-shared-object-file-no-such-file-or-directory" class="heading-element">
  <a href="#nginx-error-while-loading-shared-libraries-libgdso3-cannot-open-shared-object-file-no-such-file-or-directory" class="heading-mark"></a>nginx: error while loading shared libraries: libgd.so.3: cannot open shared object file: No such file or directory</h1><div class="highlight" id="id-13"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># nginx -t</span>
</span></span><span class="line"><span class="cl">nginx: error <span class="k">while</span> loading shared libraries: libgd.so.3: cannot open shared object file: No such file or directory
</span></span><span class="line"><span class="cl"><span class="c1"># 缺少gd库</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># yum install gd -y</span></span></span></code></pre></td></tr></table>
</div>
</div><h1 id="worker-process-xxxx-exited-on-signal-25" class="heading-element">
  <a href="#worker-process-xxxx-exited-on-signal-25" class="heading-mark"></a>worker process xxxx exited on signal 25？</h1><ul>
<li>来自：https://www.nginx.org.cn/question/detail/6423</li>
</ul>
<p>nginx 使用的版本是 nginx1.20.1，
网站页面突然访问不了，查看nginx报了 worker process xxxx exited on signal 25？</p>
<p>这里的signal 表示的是nginx的型号，找到对应25 对应的错误标签意思
查看到 signal 25 表示的是exceeded file size limit 超出文件大小限制
通过排查是由于 access.log 文件太大，超过了 设置的最大值，删除文件并配置定时备份删除就可以了</p>
<div class="highlight" id="id-14"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">signal.h中是如下定义的：
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">#include &lt;machine/signal.h&gt;/* sigcontext; codes for SIGILL, SIGFPE */
</span></span><span class="line"><span class="cl">#defineSIGHUP 1/* hangup */
</span></span><span class="line"><span class="cl">#defineSIGINT 2/* interrupt */
</span></span><span class="line"><span class="cl">#defineSIGQUIT 3/* quit */
</span></span><span class="line"><span class="cl">#defineSIGILL 4/* illegal instruction (not reset when caught) */
</span></span><span class="line"><span class="cl">#defineSIGTRAP 5/* trace trap (not reset when caught) */
</span></span><span class="line"><span class="cl">#defineSIGABRT 6/* abort() */
</span></span><span class="line"><span class="cl">#if  (defined(_POSIX_C_SOURCE) &amp;&amp; !defined(_DARWIN_C_SOURCE))
</span></span><span class="line"><span class="cl">#defineSIGPOLL 7/* pollable event ([XSR] generated, not supported) */
</span></span><span class="line"><span class="cl">#else/* (!_POSIX_C_SOURCE || _DARWIN_C_SOURCE) */
</span></span><span class="line"><span class="cl">#defineSIGIOT SIGABRT/* compatibility */
</span></span><span class="line"><span class="cl">#defineSIGEMT 7/* EMT instruction */
</span></span><span class="line"><span class="cl">#endif/* (!_POSIX_C_SOURCE || _DARWIN_C_SOURCE) */
</span></span><span class="line"><span class="cl">#defineSIGFPE 8/* floating point exception */
</span></span><span class="line"><span class="cl">#defineSIGKILL 9/* kill (cannot be caught or ignored) */
</span></span><span class="line"><span class="cl">#defineSIGBUS 10/* bus error */
</span></span><span class="line"><span class="cl">#defineSIGSEGV 11/* segmentation violation */
</span></span><span class="line"><span class="cl">#defineSIGSYS 12/* bad argument to system call */
</span></span><span class="line"><span class="cl">#defineSIGPIPE 13/* write on a pipe with no one to read it */
</span></span><span class="line"><span class="cl">#defineSIGALRM 14/* alarm clock */
</span></span><span class="line"><span class="cl">#defineSIGTERM 15/* software termination signal from kill */
</span></span><span class="line"><span class="cl">#defineSIGURG 16/* urgent condition on IO channel */
</span></span><span class="line"><span class="cl">#defineSIGSTOP 17/* sendable stop signal not from tty */
</span></span><span class="line"><span class="cl">#defineSIGTSTP 18/* stop signal from tty */
</span></span><span class="line"><span class="cl">#defineSIGCONT 19/* continue a stopped process */
</span></span><span class="line"><span class="cl">#defineSIGCHLD 20/* to parent on child stop or exit */
</span></span><span class="line"><span class="cl">#defineSIGTTIN 21/* to readers pgrp upon background tty read */
</span></span><span class="line"><span class="cl">#defineSIGTTOU 22/* like TTIN for output if (tp-&gt;t_local&lt;OSTOP) */
</span></span><span class="line"><span class="cl">#if  (!defined(_POSIX_C_SOURCE) || defined(_DARWIN_C_SOURCE))
</span></span><span class="line"><span class="cl">#defineSIGIO 23/* input/output possible signal */
</span></span><span class="line"><span class="cl">#endif
</span></span><span class="line"><span class="cl">#defineSIGXCPU 24/* exceeded CPU time limit */
</span></span><span class="line"><span class="cl">#defineSIGXFSZ 25/* exceeded file size limit */
</span></span><span class="line"><span class="cl">#defineSIGVTALRM 26 /* virtual time alarm */
</span></span><span class="line"><span class="cl">#defineSIGPROF 27/* profiling time alarm */
</span></span><span class="line"><span class="cl">#if  (!defined(_POSIX_C_SOURCE) || defined(_DARWIN_C_SOURCE))
</span></span><span class="line"><span class="cl">#define SIGWINCH 28/* window size changes */
</span></span><span class="line"><span class="cl">#define SIGINFO29 /* information request */
</span></span><span class="line"><span class="cl">#endif
</span></span><span class="line"><span class="cl">#define SIGUSR1 30/* user defined signal 1 */
</span></span><span class="line"><span class="cl">#define SIGUSR2 31/* user defined signal 2 */</span></span></code></pre></td></tr></table>
</div>
</div><p>In the crash log is a line that starts with the text Exception Codes: followed by one or more hexadecimal values. These are processor-specific codes that may give you more information on the nature of the crash.</p>
<ul>
<li>The exception code 0xbaaaaaad indicates that the log is a stackshot of the entire system, not a crash report. To take a stackshot, push the home button and any volume button. Often these logs are accidentally created by users, and do not indicate an error.</li>
<li>exception code 0xbad22222 indicates that a VoIP application has been terminated by iOS because it resumed too frequently.</li>
<li>The exception code 0x8badf00d indicates that an application has been terminated by iOS because a watchdog timeout occurred. The application took too long to launch, terminate, or respond to system events. One common cause of this is doing synchronous networking on the main thread. Whatever operation is on Thread 0: needs to be moved to a background thread, or processed differently, so that it does not block the main thread.</li>
<li>The exception code 0xc00010ff indicates the app was killed by the operating system in response to a thermal event. This may be due to an issue with the particular device that this crash occurred on, or the environment it was operated in. For tips on making your app run more efficiently, see iOS Performance and Power Optimization with Instruments WWDC session.</li>
<li>The exception code 0xdead10cc indicates that an application has been terminated by iOS because it held on to a system resource (like the address book database) while running in the background.</li>
<li>The exception code 0xdeadfa11 indicated that an application has been force quit by the user. Force quits occur when the user first holds down the On/Off button until &ldquo;slide to power off&rdquo; appears, then holds down the Home button. It&rsquo;s reasonable to assume that the user has done this because the application has become unresponsive, but it&rsquo;s not guaranteed - force quit will work on any application.</li>
<li>Note: Terminating a suspended app by removing it from the multitasking tray does not generate a crash log. Once an app has suspended, it is eligible for termination by iOS at any time, so no crash log will be generated.</li>
</ul>
<h1 id="nginx-error-while-loading-shared-libraries-libxsltso1-cannot-open-shared-object-file-no-such-file-or-directory" class="heading-element">
  <a href="#nginx-error-while-loading-shared-libraries-libxsltso1-cannot-open-shared-object-file-no-such-file-or-directory" class="heading-mark"></a>nginx: error while loading shared libraries: libxslt.so.1: cannot open shared object file: No such file or directory</h1></div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="更新于 2022-12-15 09:34:24">更新于 2022-12-15&nbsp;</span>
      </div><div class="post-info-license">
            <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span>
          </div></div><div class="post-info-line">
        <div class="post-info-md"></div>
        <div class="post-info-share">
          <span></span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/error/" class="post-tag" title="标签 - error">error</a><a href="/tags/nginx/" class="post-tag" title="标签 - nginx">nginx</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/go-hello-world/" class="post-nav-item" rel="prev" title="go run hello world"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>go run hello world</a>
      <a href="/nginx-install/" class="post-nav-item" rel="next" title="安装nginx">安装nginx<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article>

  <aside class="toc" id="toc-auto" aria-label="目录"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content always-active" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.115.3"><img class="hugo-icon" src="/images/hugo.min.svg" alt="Hugo logo" /> Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.3.1"><img class="fixit-icon" src="/images/fixit.min.svg" alt="FixIt logo" /> FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">
              <a href="/"></a></span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">FixIt 主题在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="/lib/pace/themes/blue/pace-theme-minimal.css"><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/fuse/fuse.min.js" defer></script><script src="/lib/lightgallery/lightgallery.min.js" defer></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js" defer></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js" defer></script><script src="/lib/pangu/pangu.min.js" defer></script><script src="/lib/pace/pace.min.js" async defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":10},"comment":{"enable":false},"lightgallery":true,"pangu":{"enable":true,"selector":"article"},"search":{"distance":100,"findAllMatches":false,"fuseIndexURL":"/index.json","highlightTag":"em","ignoreFieldNorm":false,"ignoreLocation":false,"isCaseSensitive":true,"location":0,"maxResultLength":10,"minMatchCharLength":2,"noResultsFound":"没有找到结果","snippetLength":50,"threshold":0.3,"type":"fuse","useExtendedSearch":false}};</script><script src="/js/theme.min.js" defer></script></body>
</html>
